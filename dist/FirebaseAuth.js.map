{"version":3,"sources":["../src/FirebaseAuth.jsx"],"names":["ELEMENT_ID","FirebaseAuth","props","uiConfig","firebaseAuth","className","componentDidMount","require","firebaseui","firebaseUiWidget","auth","AuthUI","getInstance","signInFlow","reset","uiCallback","credentialHelper","CredentialHelper","start","elementId","componentWillUnmount","render","Component"],"mappings":";;;;AAiBA;;;;;;;;;;;;AAGA,IAAMA,aAAa,sBAAnB;;IAKqBC,Y;;;AAOnB,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,4BAAMA,KAAN,CADiB;;AAGjB,UAAKC,QAAL,GAAgBD,MAAMC,QAAtB;AACA,UAAKC,YAAL,GAAoBF,MAAME,YAA1B;AACA,UAAKC,SAAL,GAAiBH,MAAMG,SAAvB;AALiB;AAMlB;;yBAKDC,iB,gCAAoB;AAElBC,YAAQ,gCAAR;;AAGA,QAAMC,aAAaD,QAAQ,YAAR,CAAnB;AACA,SAAKE,gBAAL,GAAwBD,WAAWE,IAAX,CAAgBC,MAAhB,CAAuBC,WAAvB,MACC,IAAIJ,WAAWE,IAAX,CAAgBC,MAApB,CAA2B,KAAKP,YAAhC,CADzB;AAEA,QAAI,KAAKD,QAAL,CAAcU,UAAd,KAA6B,OAAjC,EAA0C;AACxC,WAAKJ,gBAAL,CAAsBK,KAAtB;AACD;AACD,QAAI,KAAKC,UAAT,EAAqB;AACnB,WAAKA,UAAL,CAAgB,KAAKN,gBAArB;AACD;AACD,QAAI,KAAKN,QAAL,CAAca,gBAAlB,EAAoC;AAClC,WAAKb,QAAL,CAAca,gBAAd,GAAiCR,WAAWE,IAAX,CAAgBO,gBAAhB,CAAiC,KAAKd,QAAL,CAAca,gBAA/C,CAAjC;AACD;AACD,SAAKP,gBAAL,CAAsBS,KAAtB,CAA4B,MAAM,KAAKC,SAAvC,EAAkD,KAAKhB,QAAvD;AACD,G;;yBAKDiB,oB,mCAAuB;AACrB,SAAKX,gBAAL,CAAsBK,KAAtB;AACD,G;;yBAqBDO,M,qBAAS;AACP,WACE,uCAAK,WAAW,KAAKhB,SAArB,EAAgC,IAAIL,UAApC,GADF;AAGD,G;;;EApEuC,gBAAMsB,S;;kBAA3BrB,Y","file":"FirebaseAuth.js","sourcesContent":["/**\n * Copyright 2017 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// @flow\n\nimport React from 'react';\n\n// Global ID for the element.\nconst ELEMENT_ID = 'firebaseui_container';\n\n/**\n * React Component wrapper for the FirebaseUI Auth widget.\n */\nexport default class FirebaseAuth extends React.Component {\n  /**\n   * Constructor  Firebase Auth UI component\n   *\n   * @param {Object} props - Additional object properties.\n   * @constructor\n   */\n  constructor(props) {\n    super(props);\n\n    this.uiConfig = props.uiConfig;\n    this.firebaseAuth = props.firebaseAuth;\n    this.className = props.className;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  componentDidMount() {\n    // Import the css only on the client.\n    require('firebaseui/dist/firebaseui.css');\n\n    // Firebase UI only works on the Client. So we're loading in `componentDidMount`.\n    const firebaseui = require('firebaseui');\n    this.firebaseUiWidget = firebaseui.auth.AuthUI.getInstance()\n                          || new firebaseui.auth.AuthUI(this.firebaseAuth);\n    if (this.uiConfig.signInFlow === 'popup') {\n      this.firebaseUiWidget.reset();\n    }\n    if (this.uiCallback) {\n      this.uiCallback(this.firebaseUiWidget);\n    }\n    if (this.uiConfig.credentialHelper) {\n      this.uiConfig.credentialHelper = firebaseui.auth.CredentialHelper[this.uiConfig.credentialHelper];\n    }\n    this.firebaseUiWidget.start('#' + this.elementId, this.uiConfig);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  componentWillUnmount() {\n    this.firebaseUiWidget.reset();\n  }\n\n  /**\n   * Properties types.\n   */\n  props: {\n    // The Firebase UI Web UI Config object.\n    // See: https://github.com/firebase/firebaseui-web#configuration\n    uiConfig: Object,\n    // The Firebase App auth instance to use.\n    firebaseAuth: Object,\n    // Callback that will be passed the FirebaseUi instance before it is\n    // started. This allows access to certain configuration options such as\n    // disableAutoSignIn().\n    uiCallback?: Function,\n    className: String\n  };\n\n  /**\n   * @inheritDoc\n   */\n  render() {\n    return (\n      <div className={this.className} id={ELEMENT_ID}/>\n    );\n  }\n}\n"]}